---
name: test-case-sync-engine
description: Automatically generates and syncs test cases based on requirement changes. Triggers when requirements are updated in PRD-ä¸»æ–‡æ¡£.md, bugs are fixed, or features are added. Creates test cases in JSON format, links them to requirements, and maintains test-cases-master.json. Works with requirement-sync-manager and test-automation-engine.
---

# Test Case Sync Engine

> æµ‹è¯•ç”¨ä¾‹åŒæ­¥å¼•æ“ - è‡ªåŠ¨ç”Ÿæˆå’ŒåŒæ­¥æµ‹è¯•ç”¨ä¾‹

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

**ä¸‰å±‚æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨ç”Ÿæˆ**ï¼š
1. åŸºäº PRD çš„åˆå§‹æµ‹è¯•ç”¨ä¾‹
2. åŸºäºä»£ç å˜æ›´çš„å›å½’æµ‹è¯•ç”¨ä¾‹
3. åŸºäº Bug ä¿®å¤çš„é˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹

---

## è§¦å‘æ¡ä»¶

### è‡ªåŠ¨è§¦å‘

1. **requirement-sync-manager é€šçŸ¥**
   - PRD-ä¸»æ–‡æ¡£.md æ›´æ–°åè‡ªåŠ¨è§¦å‘
   - éœ€æ±‚å˜æ›´è®°å½•åˆ›å»ºåè‡ªåŠ¨è§¦å‘

2. **ä»£ç å˜æ›´æ£€æµ‹**
   - ä¿®æ”¹ `lib/matching/` â†’ ç”ŸæˆåŒ¹é…ç®—æ³•æµ‹è¯•ç”¨ä¾‹
   - ä¿®æ”¹ `lib/ai/` â†’ ç”Ÿæˆ AI æå–æµ‹è¯•ç”¨ä¾‹
   - ä¿®æ”¹ `app/api/` â†’ ç”Ÿæˆ API æµ‹è¯•ç”¨ä¾‹

3. **Bug ä¿®å¤å®Œæˆ**
   - systematic-debugging Skill å®Œæˆåè‡ªåŠ¨è§¦å‘
   - ç”Ÿæˆé˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹

### æ‰‹åŠ¨è§¦å‘

ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨è¯·æ±‚ï¼š
- "ä¸ºè¿™ä¸ªéœ€æ±‚ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹"
- "æ›´æ–°æµ‹è¯•ç”¨ä¾‹åº“"
- "æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡"

---

## æ‰§è¡Œæµç¨‹

### ç¬¬ 1 å±‚ï¼šåŸºäº PRD çš„åˆå§‹æµ‹è¯•ç”¨ä¾‹

**è¾“å…¥**ï¼š
- PRD-ä¸»æ–‡æ¡£.md ä¸­çš„éœ€æ±‚æè¿°
- éªŒæ”¶æ ‡å‡†

**å¤„ç†æµç¨‹**ï¼š
```
è¯»å– PRD-ä¸»æ–‡æ¡£.md
  â†“
æå–éœ€æ±‚å’ŒéªŒæ”¶æ ‡å‡†
  â†“
AI åˆ†æéœ€æ±‚
  â†“
ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹éª¨æ¶
  â†“
ç”¨æˆ·å®¡æ ¸ç¡®è®¤
  â†“
æ·»åŠ åˆ° test-cases-master.json
```

**ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹æ ¼å¼**ï¼š
```json
{
  "id": "MATCH-001",
  "name": "ç²¾ç¡®åŒ¹é…ï¼šæŠ€èƒ½å®Œå…¨ä¸€è‡´",
  "category": "matching",
  "priority": "high",
  "createdFrom": "PRD",
  "linkedRequirement": "PRD-ä¸»æ–‡æ¡£.md#1-ç®€å†-JD-åŒ¹é…",
  "requirementVersion": "v2.0",
  "createdDate": "2026-02-15",
  "status": "active",
  "input": {
    "jd": "è¦æ±‚ Reactã€TypeScriptã€Node.js",
    "resume": "ç†Ÿç»ƒæŒæ¡ Reactã€TypeScriptã€Node.js"
  },
  "expected": {
    "matchRate": ">= 90%",
    "matchedSkills": ["React", "TypeScript", "Node.js"],
    "professionalMatches": "> 0"
  }
}
```

---

### ç¬¬ 2 å±‚ï¼šåŸºäºä»£ç å˜æ›´çš„å›å½’æµ‹è¯•ç”¨ä¾‹

**è¾“å…¥**ï¼š
- Git diff ä¿¡æ¯
- ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„
- ä»£ç å˜æ›´è¯´æ˜

**å¤„ç†æµç¨‹**ï¼š
```
æ£€æµ‹ä»£ç å˜æ›´
  â†“
åˆ†æå½±å“èŒƒå›´
  â†“
è¯†åˆ«éœ€è¦å›å½’æµ‹è¯•çš„åŠŸèƒ½
  â†“
è‡ªåŠ¨ç”Ÿæˆå›å½’æµ‹è¯•ç”¨ä¾‹
  â†“
æ·»åŠ åˆ° test-cases-master.json
```

**ç¤ºä¾‹**ï¼š
```
ä¿®æ”¹ï¼šlib/matching/code_matcher.ts (ç¦ç”¨è½¯æŠ€èƒ½åŒ¹é…)
  â†“
è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼š
- MATCH-101: è½¯æŠ€èƒ½ä¸åº”å‡ºç°åœ¨ professional_matches
- MATCH-102: ä¸“ä¸šèƒ½åŠ›æ•°é‡åº” > 0
- MATCH-103: è½¯æŠ€èƒ½åº”è¢«æ­£ç¡®è¯†åˆ«å’Œè¿‡æ»¤
```

---

### ç¬¬ 3 å±‚ï¼šåŸºäº Bug ä¿®å¤çš„é˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹

**è¾“å…¥**ï¼š
- Bug æè¿°
- æ ¹æœ¬åŸå› 
- ä¿®å¤æ–¹æ¡ˆ

**å¤„ç†æµç¨‹**ï¼š
```
Bug ä¿®å¤å®Œæˆ
  â†“
systematic-debugging é€šçŸ¥
  â†“
æå– Bug ä¿¡æ¯
  â†“
ç”Ÿæˆé˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹
  â†“
æ·»åŠ åˆ° test-cases-master.json
```

**ç¤ºä¾‹**ï¼š
```
Bug: ä¸“ä¸šèƒ½åŠ›æ˜¾ç¤º 0 é¡¹
æ ¹å› : è½¯æŠ€èƒ½æ±¡æŸ“ä¸“ä¸šèƒ½åŠ›åˆ—è¡¨
  â†“
è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼š
- BUG-001: éªŒè¯ä¸“ä¸šèƒ½åŠ›ä¸ä¸ºç©º
- BUG-002: éªŒè¯è½¯æŠ€èƒ½è¿‡æ»¤é€»è¾‘
- BUG-003: éªŒè¯ AI æå–ä¸è¿‡åº¦æŠ½è±¡
```

---

## æµ‹è¯•ç”¨ä¾‹åº“ç»“æ„

### test-cases-master.json

**ä½ç½®**ï¼š`tests/test-cases/test-cases-master.json`

**æ ¼å¼**ï¼š
```json
{
  "version": "2.1",
  "lastUpdated": "2026-02-15T12:00:00Z",
  "linkedPRD": "docs/01-éœ€æ±‚æ–‡æ¡£/PRD-ä¸»æ–‡æ¡£.md",
  "prdVersion": "v2.1",
  "totalTestCases": 150,
  "testSuites": [
    {
      "id": "MATCH",
      "name": "åŒ¹é…ç®—æ³•æµ‹è¯•",
      "category": "matching",
      "linkedRequirement": "PRD-ä¸»æ–‡æ¡£.md#1-ç®€å†-JD-åŒ¹é…",
      "requirementVersion": "v2.1",
      "totalCases": 50,
      "testCases": [...]
    },
    {
      "id": "AI",
      "name": "AI æå–æµ‹è¯•",
      "category": "ai-extraction",
      "linkedRequirement": "PRD-ä¸»æ–‡æ¡£.md#2-AI-æå–",
      "requirementVersion": "v2.0",
      "totalCases": 30,
      "testCases": [...]
    }
  ]
}
```

### åˆ†ç±»æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶

**ä½ç½®**ï¼š`tests/test-cases/`

**æ–‡ä»¶ç»“æ„**ï¼š
```
tests/test-cases/
â”œâ”€â”€ test-cases-master.json       # ä¸»ç´¢å¼•
â”œâ”€â”€ matching-algorithm.json      # åŒ¹é…ç®—æ³•æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ ai-extraction.json           # AI æå–æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ jd-parsing.json              # JD è§£ææµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ e2e-scenarios.json           # E2E åœºæ™¯æµ‹è¯•ç”¨ä¾‹
â””â”€â”€ regression-tests.json        # å›å½’æµ‹è¯•ç”¨ä¾‹
```

---

## æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆè§„åˆ™

### è§„åˆ™ 1: æ¯ä¸ªéœ€æ±‚å¿…é¡»æœ‰æµ‹è¯•ç”¨ä¾‹

**æ£€æŸ¥æµç¨‹**ï¼š
```
è¯»å– PRD-ä¸»æ–‡æ¡£.md
  â†“
æå–æ‰€æœ‰éœ€æ±‚ï¼ˆå¸¦ç‰ˆæœ¬å·ï¼‰
  â†“
è¯»å– test-cases-master.json
  â†“
æ£€æŸ¥æ¯ä¸ªéœ€æ±‚æ˜¯å¦æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
  â†“
å¦‚æœç¼ºå°‘ â†’ è‡ªåŠ¨ç”Ÿæˆæˆ–æé†’ç”¨æˆ·
```

### è§„åˆ™ 2: æ¯ä¸ªéªŒæ”¶æ ‡å‡†å¿…é¡»æœ‰æµ‹è¯•ç”¨ä¾‹

**ç¤ºä¾‹**ï¼š
```
éœ€æ±‚ï¼šç®€å†-JD åŒ¹é…
éªŒæ”¶æ ‡å‡†ï¼š
- [ ] å“åº”æ—¶é—´ < 3s
- [ ] åŒ¹é…å‡†ç¡®ç‡ > 80%
- [ ] æ”¯æŒ PDF æ ¼å¼

è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼š
- PERF-001: åŒ¹é…å“åº”æ—¶é—´æµ‹è¯•
- MATCH-001: åŒ¹é…å‡†ç¡®ç‡æµ‹è¯•
- PARSE-001: PDF è§£ææµ‹è¯•
```

### è§„åˆ™ 3: Bug ä¿®å¤å¿…é¡»æœ‰é˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹

**å¼ºåˆ¶è¦æ±‚**ï¼š
- æ¯ä¸ª Bug ä¿®å¤å¿…é¡»è‡³å°‘ç”Ÿæˆ 1 ä¸ªæµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•ç”¨ä¾‹å¿…é¡»èƒ½å¤ç°åŸ Bug
- æµ‹è¯•ç”¨ä¾‹å¿…é¡»éªŒè¯ä¿®å¤æœ‰æ•ˆ

---

## æµ‹è¯•ç”¨ä¾‹ä¼˜å…ˆçº§

### P0 (é«˜ä¼˜å…ˆçº§)
- æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
- Bug é˜²å¾¡æ€§æµ‹è¯•
- æ€§èƒ½å…³é”®è·¯å¾„æµ‹è¯•

### P1 (ä¸­ä¼˜å…ˆçº§)
- è¾¹ç•Œæƒ…å†µæµ‹è¯•
- å¼‚å¸¸å¤„ç†æµ‹è¯•
- å›å½’æµ‹è¯•

### P2 (ä½ä¼˜å…ˆçº§)
- UI ç»†èŠ‚æµ‹è¯•
- éå…³é”®è·¯å¾„æµ‹è¯•

---

## ä¸å…¶ä»– Skills çš„åä½œ

### 1. requirement-sync-manager
- æ¥æ”¶éœ€æ±‚å˜æ›´é€šçŸ¥
- è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹

### 2. test-automation-engine
- æä¾›æµ‹è¯•ç”¨ä¾‹ç»™æµ‹è¯•å¼•æ“
- æ¥æ”¶æµ‹è¯•ç»“æœåé¦ˆ

### 3. systematic-debugging
- æ¥æ”¶ Bug ä¿®å¤é€šçŸ¥
- ç”Ÿæˆé˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹

### 4. documentation-enforcer-v2
- ç¡®ä¿æµ‹è¯•ç”¨ä¾‹å…³è”åˆ°éœ€æ±‚
- ç»´æŠ¤æ–‡æ¡£ä¸€è‡´æ€§

---

## æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š

**è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š**ï¼š
```markdown
# æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2026-02-15 12:00
**PRD ç‰ˆæœ¬**: v2.1
**æµ‹è¯•ç”¨ä¾‹ç‰ˆæœ¬**: v2.1

## è¦†ç›–ç‡ç»Ÿè®¡

| éœ€æ±‚æ¨¡å— | éœ€æ±‚æ•°é‡ | æµ‹è¯•ç”¨ä¾‹æ•°é‡ | è¦†ç›–ç‡ |
|---------|---------|-------------|--------|
| åŒ¹é…ç®—æ³• | 5 | 50 | 100% |
| AI æå– | 3 | 30 | 100% |
| JD è§£æ | 2 | 15 | 100% |
| UI å±•ç¤º | 4 | 20 | 75% âš ï¸ |

## æœªè¦†ç›–çš„éœ€æ±‚

### 1. åŒ¹é…åº¦ç™¾åˆ†æ¯”æ˜¾ç¤º
**éœ€æ±‚**: PRD-ä¸»æ–‡æ¡£.md#7
**çŠ¶æ€**: ç¼ºå°‘æµ‹è¯•ç”¨ä¾‹
**å»ºè®®**: åˆ›å»º UI-001, UI-002 æµ‹è¯•ç”¨ä¾‹

## å»ºè®®

- ä¸º "åŒ¹é…åº¦ç™¾åˆ†æ¯”æ˜¾ç¤º" åˆ›å»ºæµ‹è¯•ç”¨ä¾‹
- å¢åŠ  UI æ¨¡å—çš„æµ‹è¯•è¦†ç›–ç‡
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: éœ€æ±‚å˜æ›´è§¦å‘

```
requirement-sync-manager æ›´æ–° PRD
  â†“
é€šçŸ¥ test-case-sync-engine
  â†“
AI åˆ†ææ–°éœ€æ±‚ï¼š"ç¦ç”¨è½¯æŠ€èƒ½åŒ¹é…"
  â†“
è‡ªåŠ¨ç”Ÿæˆ 3 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š
  - MATCH-101: è½¯æŠ€èƒ½è¿‡æ»¤æµ‹è¯•
  - MATCH-102: ä¸“ä¸šèƒ½åŠ›éç©ºæµ‹è¯•
  - MATCH-103: è½¯æŠ€èƒ½è¯†åˆ«æµ‹è¯•
  â†“
æ·»åŠ åˆ° test-cases-master.json
  â†“
æ›´æ–°ç‰ˆæœ¬å· (v2.0 â†’ v2.1)
  â†“
é€šçŸ¥ç”¨æˆ·ï¼š"å·²ç”Ÿæˆ 3 ä¸ªæ–°æµ‹è¯•ç”¨ä¾‹"
```

### ç¤ºä¾‹ 2: Bug ä¿®å¤è§¦å‘

```
systematic-debugging å®Œæˆ Bug ä¿®å¤
  â†“
é€šçŸ¥ test-case-sync-engine
  â†“
æå– Bug ä¿¡æ¯ï¼š
  - Bug: ä¸“ä¸šèƒ½åŠ›æ˜¾ç¤º 0 é¡¹
  - æ ¹å› : è½¯æŠ€èƒ½æ±¡æŸ“
  â†“
è‡ªåŠ¨ç”Ÿæˆé˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹ï¼š
  - BUG-001: éªŒè¯ä¸“ä¸šèƒ½åŠ›ä¸ä¸ºç©º
  â†“
æ·»åŠ åˆ° regression-tests.json
  â†“
é€šçŸ¥ç”¨æˆ·ï¼š"å·²ç”Ÿæˆé˜²å¾¡æ€§æµ‹è¯•ç”¨ä¾‹ BUG-001"
```

---

## é…ç½®é€‰é¡¹

**é…ç½®æ–‡ä»¶**ï¼š`tests/test-config.json`

```json
{
  "autoGenerateTestCases": true,
  "requireUserApproval": true,
  "minTestCasesPerRequirement": 1,
  "testCaseNamingPattern": "{CATEGORY}-{NUMBER}",
  "linkedPRD": "docs/01-éœ€æ±‚æ–‡æ¡£/PRD-ä¸»æ–‡æ¡£.md",
  "testCasesPath": "tests/test-cases/",
  "testEngineNotify": true
}
```

---

**Skill Version**: v1.0
**Created**: 2026-02-15
**Compatibility**: Claude Code 2.0+
